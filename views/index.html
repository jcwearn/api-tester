<!DOCTYPE html>
<html>
  <head>
    <!--Import Google Icon Font-->
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="stylesheets/materialize.css"  media="screen,projection"/>
    
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  </head>
  
  <body>
    <nav class="blue darken-2">
      <div class="nav-wrapper"></div>
    </nav>
    <div class="container">
      <div class="row">
        <div class="card-panel white" style="margin-top:20px">
          <div style="margin-bottom:0 !important;" id="search" class="search-box row scrollspy">
            <form action="" onsubmit="return false">
              <div class="col m10">
                <div class="input-field">
                  <label for="api-route">Enter API to test</label>
                  <input id="api-route" type="text" tabindex="1" name="api-route" value="https://api.careerbuilder.com/" style="height:54px !important; font-size:14px">
                </div>
              </div>
              <div class="col m2">
                <button onclick="callAPI()" style="width:100%;margin-top:16px;" tabindex="2" class="waves-effect waves-light btn-large blue accent-2">Go</button>
              </div>
              <div class="col m12">
                <div class="row">
                  <div class="col m3 switch">
                    <label>Staging<input type="checkbox" checked="true" name="environment" id="environment" onclick="toggleEnvironment()"><span class="lever"></span>Production</label>
                  </div>
                  <div class="input-field col m2">
                    <select id="method">
                      <option value="GET">GET</option>
                      <option value="POST">POST</option>
                      <option value="PUT">PUT</option>
                      <option value="DELETE">DELETE</option>
                      <option value="PATCH">PATCH</option>
                    </select>
                    <label>Method</label>
                  </div>
                  <div class="input-field col m2">
                    <select id="content-type">
                      <option value="application/json">JSON</option>
                      <option value="application/xml">XML</option>
                      <option value="application/x-www-form-urlencoded">FORM</option>
                    </select>
                    <label>Content-Type</label>
                  </div>
                  <div class="input-field col m2">
                    <select id="accept">
                      <option value="application/json">JSON</option>
                      <option value="application/xml">XML</option>
                    </select>
                    <label>Accept</label>
                  </div>
                  <div class="input-field col m1">
                    <label for="version">Version</label>
                    <input id="version" type="text" tabindex="1" name="version" value="">
                  </div>
                </div>
              </div>

            </form>
          </div>
        </div>
        
      </div>
      <div class="row">
        <div class="card-panel white">
          <div class="row">
            <div class="col m12">
              <label for="response-area">Response</label>
              <pre id="response-area"></pre>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="javascripts/materialize.js"></script>
    <script type="text/javascript" src="javascripts/call_api.js"></script>
    <script type="text/javascript">
      $(document).ready(function() {
        $('select').material_select();
      });
    </script>
    <script type="text/javascript">
      function toggleEnvironment() {
        var current_url = $('input#api-route').val();
        var updated_url;
        if(current_url.indexOf('wwwtest.') >= 0) {
          updated_url = current_url.replace('wwwtest.', '');
        } else {
          updated_url = current_url.replace('https://', 'https://wwwtest.');
        }
        $('input#api-route').val(updated_url);
      }
    </script>
  </body>
</html>
